from sqlalchemy.sql import text
from db import db
from models.stations_locations import StationLocationModel 
from models.admin import AdminModel
from werkzeug.security import generate_password_hash

def seed_E_outtrips():
    insert_query1 = text("""
    INSERT INTO E_outtrips (TripType, N_Train, Tunis, Sayda_ElManoubia, Ennajah, Etayrane, Ezzouhour_2, ElHrayria, Bougatfa)
    VALUES
    ('C', 401, '04:40:00', '04:44:00', '04:46:00', '04:49:00', '04:51:00', '04:53:00', '04:55:00'),
    ('C', 403, '05:00:00', '05:04:00', '05:06:00', '05:09:00', '05:11:00', '05:13:00', '05:15:00'),
    ('A', 405, '05:20:00', '05:24:00', '05:26:00', '05:29:00', '05:31:00', '05:33:00', '05:35:00'),
    ('B', 407, '05:30:00', '05:34:00', '05:36:00', '05:39:00', '05:41:00', '05:43:00', '05:45:00'),
    ('A', 409, '05:40:00', '05:44:00', '05:46:00', '05:49:00', '05:51:00', '05:53:00', '05:55:00'),
    ('C', 411, '06:00:00', '06:04:00', '06:06:00', '06:09:00', '06:11:00', '06:13:00', '06:15:00'),
    ('A', 413, '06:20:00', '06:24:00', '06:26:00', '06:29:00', '06:31:00', '06:33:00', '06:35:00'),
    ('B', 415, '06:30:00', '06:34:00', '06:36:00', '06:39:00', '06:41:00', '06:43:00', '06:45:00'),
    ('A', 417, '06:40:00', '06:44:00', '06:46:00', '06:49:00', '06:51:00', '06:53:00', '06:55:00'),
    ('C', 419, '07:00:00', '07:04:00', '07:06:00', '07:09:00', '07:11:00', '07:13:00', '07:15:00'),
    ('A', 421, '07:20:00', '07:24:00', '07:26:00', '07:29:00', '07:31:00', '07:33:00', '07:35:00'),
    ('B', 423, '07:30:00', '07:34:00', '07:36:00', '07:39:00', '07:41:00', '07:43:00', '07:45:00'),
    ('A', 425, '07:40:00', '07:44:00', '07:46:00', '07:49:00', '07:51:00', '07:53:00', '07:55:00'),
    ('C', 427, '08:00:00', '08:04:00', '08:06:00', '08:09:00', '08:11:00', '08:13:00', '08:15:00'),
    ('A', 429, '08:20:00', '08:24:00', '08:26:00', '08:29:00', '08:31:00', '08:33:00', '08:35:00'),
    ('B', 431, '08:30:00', '08:34:00', '08:36:00', '08:39:00', '08:41:00', '08:43:00', '08:45:00'),
    ('A', 433, '08:40:00', '08:44:00', '08:46:00', '08:49:00', '08:51:00', '08:53:00', '08:55:00'),
    ('C', 435, '09:00:00', '09:04:00', '09:06:00', '09:09:00', '09:11:00', '09:13:00', '09:15:00'),
    ('A', 437, '09:20:00', '09:24:00', '09:26:00', '09:29:00', '09:31:00', '09:33:00', '09:35:00'),
    ('B', 439, '09:30:00', '09:34:00', '09:36:00', '09:39:00', '09:41:00', '09:43:00', '09:45:00'),
    ('A', 441, '09:40:00', '09:44:00', '09:46:00', '09:49:00', '09:51:00', '09:53:00', '09:55:00'),
    ('C', 443, '10:00:00', '10:04:00', '10:06:00', '10:09:00', '10:11:00', '10:13:00', '10:15:00'),
    ('A', 445, '10:20:00', '10:24:00', '10:26:00', '10:29:00', '10:31:00', '10:33:00', '10:35:00'),
    ('B', 447, '10:30:00', '10:34:00', '10:36:00', '10:39:00', '10:41:00', '10:43:00', '10:45:00'),
    ('A', 449, '10:40:00', '10:44:00', '10:46:00', '10:49:00', '10:51:00', '10:53:00', '10:55:00'),
    ('C', 451, '11:00:00', '11:04:00', '11:06:00', '11:09:00', '11:11:00', '11:13:00', '11:15:00'),
    ('A', 453, '11:20:00', '11:24:00', '11:26:00', '11:29:00', '11:31:00', '11:33:00', '11:35:00'),
    ('B', 455, '11:30:00', '11:34:00', '11:36:00', '11:39:00', '11:41:00', '11:43:00', '11:45:00'),
    ('A', 457, '11:40:00', '11:44:00', '11:46:00', '11:49:00', '11:51:00', '11:53:00', '11:55:00'),
    ('C', 459, '12:00:00', '12:04:00', '12:06:00', '12:09:00', '12:11:00', '12:13:00', '12:15:00'),
    ('A', 461, '12:20:00', '12:24:00', '12:26:00', '12:29:00', '12:31:00', '12:33:00', '12:35:00'),
    ('B', 463, '12:30:00', '12:34:00', '12:36:00', '12:39:00', '12:41:00', '12:43:00', '12:45:00'),
    ('A', 465, '12:40:00', '12:44:00', '12:46:00', '12:49:00', '12:51:00', '12:53:00', '12:55:00'),
    ('C', 467, '13:00:00', '13:04:00', '13:06:00', '13:09:00', '13:11:00', '13:13:00', '13:15:00'),
    ('A', 469, '13:20:00', '13:24:00', '13:26:00', '13:29:00', '13:31:00', '13:33:00', '13:35:00'),
    ('B', 471, '13:30:00', '13:34:00', '13:36:00', '13:39:00', '13:41:00', '13:43:00', '13:45:00'),
    ('A', 473, '13:40:00', '13:44:00', '13:46:00', '13:49:00', '13:51:00', '13:53:00', '13:55:00'),
    ('C', 475, '14:00:00', '14:04:00', '14:06:00', '14:09:00', '14:11:00', '14:13:00', '14:15:00'),
    ('A', 477, '14:20:00', '14:24:00', '14:26:00', '14:29:00', '14:31:00', '14:33:00', '14:35:00'),
    ('B', 479, '14:30:00', '14:34:00', '14:36:00', '14:39:00', '14:41:00', '14:43:00', '14:45:00'),
    ('A', 481, '14:40:00', '14:44:00', '14:46:00', '14:49:00', '14:51:00', '14:53:00', '14:55:00'),
    ('C', 483, '15:00:00', '15:04:00', '15:06:00', '15:09:00', '15:11:00', '15:13:00', '15:15:00'),
    ('A', 485, '15:20:00', '15:24:00', '15:26:00', '15:29:00', '15:31:00', '15:33:00', '15:35:00'),
    ('B', 487, '15:30:00', '15:34:00', '15:36:00', '15:39:00', '15:41:00', '15:43:00', '15:45:00'),
    ('A', 489, '15:40:00', '15:44:00', '15:46:00', '15:49:00', '15:51:00', '15:53:00', '15:55:00'),
    ('C', 491, '16:00:00', '16:04:00', '16:06:00', '16:09:00', '16:11:00', '16:13:00', '16:15:00'),
    ('A', 493, '16:20:00', '16:24:00', '16:26:00', '16:29:00', '16:31:00', '16:33:00', '16:35:00'),
    ('B', 495, '16:30:00', '16:34:00', '16:36:00', '16:39:00', '16:41:00', '16:43:00', '16:45:00'),
    ('A', 497, '16:40:00', '16:44:00', '16:46:00', '16:49:00', '16:51:00', '16:53:00', '16:55:00'),
    ('C', 499, '17:00:00', '17:04:00', '17:06:00', '17:09:00', '17:11:00', '17:13:00', '17:15:00'),
    ('A', 501, '17:20:00', '17:24:00', '17:26:00', '17:29:00', '17:31:00', '17:33:00', '17:35:00'),
    ('B', 503, '17:30:00', '17:34:00', '17:36:00', '17:39:00', '17:41:00', '17:43:00', '17:45:00'),
    ('A', 505, '17:40:00', '17:44:00', '17:46:00', '17:49:00', '17:51:00', '17:53:00', '17:55:00'),
    ('C', 507, '18:00:00', '18:04:00', '18:06:00', '18:09:00', '18:11:00', '18:13:00', '18:15:00'),
    ('A', 509, '18:20:00', '18:24:00', '18:26:00', '18:29:00', '18:31:00', '18:33:00', '18:35:00'),
    ('B', 511, '18:30:00', '18:34:00', '18:36:00', '18:39:00', '18:41:00', '18:43:00', '18:45:00'),
    ('A', 513, '18:40:00', '18:44:00', '18:46:00', '18:49:00', '18:51:00', '18:53:00', '18:55:00'),
    ('C', 515, '19:00:00', '19:04:00', '19:06:00', '19:09:00', '19:11:00', '19:13:00', '19:15:00'),
    ('C', 517, '19:30:00', '19:34:00', '19:36:00', '19:39:00', '19:41:00', '19:43:00', '19:45:00'),
    ('C', 519, '20:00:00', '20:04:00', '20:06:00', '20:09:00', '20:11:00', '20:13:00', '20:15:00'),
    ('C', 521, '20:30:00', '20:34:00', '20:36:00', '20:39:00', '20:41:00', '20:43:00', '20:45:00');
        """)



    # Execute the raw SQL query
    db.session.execute(insert_query1)
    db.session.commit()


def seed_E_intrips():

    insert_query2 = text("""
    INSERT INTO E_intrips (TripType, N_Train, Bougatfa, ElHrayria, Ezzouhour_2, Etayrane, Ennajah, Sayda_ElManoubia, Tunis )
    VALUES 
        ('C', 402, '05:00:00', '05:02:00', '05:04:00', '05:07:00', '05:09:00', '05:11:00', '05:15:00'),
        ('C', 404, '05:20:00', '05:22:00', '05:24:00', '05:27:00', '05:29:00', '05:31:00', '05:35:00'),
        ('A', 406, '05:40:00', '05:42:00', '05:44:00', '05:47:00', '05:49:00', '05:51:00', '05:55:00'),
        ('B', 408, '05:50:00', '05:52:00', '05:54:00', '05:57:00', '05:59:00', '06:01:00', '06:05:00'),
        ('A', 410, '06:00:00', '06:02:00', '06:04:00', '06:07:00', '06:09:00', '06:11:00', '06:15:00'),
        ('C', 412, '06:20:00', '06:22:00', '06:24:00', '06:27:00', '06:29:00', '06:31:00', '06:35:00'),
        ('A', 414, '06:40:00', '06:42:00', '06:44:00', '06:47:00', '06:49:00', '06:51:00', '06:55:00'),
        ('B', 416, '06:50:00', '06:52:00', '06:54:00', '06:57:00', '06:59:00', '07:01:00', '07:05:00'),
        ('A', 418, '07:00:00', '07:02:00', '07:04:00', '07:07:00', '07:09:00', '07:11:00', '07:15:00'),
        ('C', 420, '07:20:00', '07:22:00', '07:24:00', '07:27:00', '07:29:00', '07:31:00', '07:35:00'),
        ('A', 422, '07:40:00', '07:42:00', '07:44:00', '07:47:00', '07:49:00', '07:51:00', '07:55:00'),
        ('B', 424, '07:50:00', '07:52:00', '07:54:00', '07:57:00', '07:59:00', '08:01:00', '08:05:00'),
        ('A', 426, '08:00:00', '08:02:00', '08:04:00', '08:07:00', '08:09:00', '08:11:00', '08:15:00'),
        ('C', 428, '08:20:00', '08:22:00', '08:24:00', '08:27:00', '08:29:00', '08:31:00', '08:35:00'),
        ('A', 430, '08:40:00', '08:42:00', '08:44:00', '08:47:00', '08:49:00', '08:51:00', '08:55:00'),
        ('B', 432, '08:50:00', '08:52:00', '08:54:00', '08:57:00', '08:59:00', '09:01:00', '09:05:00'),
        ('A', 434, '09:00:00', '09:02:00', '09:04:00', '09:07:00', '09:09:00', '09:11:00', '09:15:00'),
        ('C', 436, '09:20:00', '09:22:00', '09:24:00', '09:27:00', '09:29:00', '09:31:00', '09:35:00'),
        ('A', 438, '09:40:00', '09:42:00', '09:44:00', '09:47:00', '09:49:00', '09:51:00', '09:55:00'),
        ('B', 440, '09:50:00', '09:52:00', '09:54:00', '09:57:00', '09:59:00', '10:01:00', '10:05:00'),
        ('A', 442, '10:00:00', '10:02:00', '10:04:00', '10:07:00', '10:09:00', '10:11:00', '10:15:00'),
        ('C', 444, '10:20:00', '10:22:00', '10:24:00', '10:27:00', '10:29:00', '10:31:00', '10:35:00'),
        ('A', 446, '10:40:00', '10:42:00', '10:44:00', '10:47:00', '10:49:00', '10:51:00', '10:55:00'),
        ('B', 448, '10:50:00', '10:52:00', '10:54:00', '10:57:00', '10:59:00', '11:01:00', '11:05:00'),
        ('A', 450, '11:00:00', '11:02:00', '11:04:00', '11:07:00', '11:09:00', '11:11:00', '11:15:00'),
        ('C', 452, '11:20:00', '11:22:00', '11:24:00', '11:27:00', '11:29:00', '11:31:00', '11:35:00'),
        ('A', 454, '11:40:00', '11:42:00', '11:44:00', '11:47:00', '11:49:00', '11:51:00', '11:55:00'),
        ('B', 456, '11:50:00', '11:52:00', '11:54:00', '11:57:00', '11:59:00', '12:01:00', '12:05:00'),
        ('A', 458, '12:00:00', '12:02:00', '12:04:00', '12:07:00', '12:09:00', '12:11:00', '12:15:00'),
        ('C', 460, '12:20:00', '12:22:00', '12:24:00', '12:27:00', '12:29:00', '12:31:00', '12:35:00'),
        ('A', 462, '12:40:00', '12:42:00', '12:44:00', '12:47:00', '12:49:00', '12:51:00', '12:55:00'),
        ('B', 464, '12:50:00', '12:52:00', '12:54:00', '12:57:00', '12:59:00', '13:01:00', '13:05:00'),
        ('A', 466, '13:00:00', '13:02:00', '13:04:00', '13:07:00', '13:09:00', '13:11:00', '13:15:00'),
        ('C', 468, '13:20:00', '13:22:00', '13:24:00', '13:27:00', '13:29:00', '13:31:00', '13:35:00'),
        ('A', 470, '13:40:00', '13:42:00', '13:44:00', '13:47:00', '13:49:00', '13:51:00', '13:55:00'),
        ('B', 472, '13:50:00', '13:52:00', '13:54:00', '13:57:00', '13:59:00', '14:01:00', '14:05:00'),
        ('A', 474, '14:00:00', '14:02:00', '14:04:00', '14:07:00', '14:09:00', '14:11:00', '14:15:00'),
        ('C', 476, '14:20:00', '14:22:00', '14:24:00', '14:27:00', '14:29:00', '14:31:00', '14:35:00'),
        ('A', 478, '14:40:00', '14:42:00', '14:44:00', '14:47:00', '14:49:00', '14:51:00', '14:55:00'),
        ('B', 480, '14:50:00', '14:52:00', '14:54:00', '14:57:00', '14:59:00', '15:01:00', '15:05:00'),
        ('A', 482, '15:00:00', '15:02:00', '15:04:00', '15:07:00', '15:09:00', '15:11:00', '15:15:00'),
        ('C', 484, '15:20:00', '15:22:00', '15:24:00', '15:27:00', '15:29:00', '15:31:00', '15:35:00'),
        ('A', 486, '15:40:00', '15:42:00', '15:44:00', '15:47:00', '15:49:00', '15:51:00', '15:55:00'),
        ('B', 488, '15:50:00', '15:52:00', '15:54:00', '15:57:00', '15:59:00', '16:01:00', '16:05:00'),
        ('A', 490, '16:00:00', '16:02:00', '16:04:00', '16:07:00', '16:09:00', '16:11:00', '16:15:00'),
        ('C', 492, '16:20:00', '16:22:00', '16:24:00', '16:27:00', '16:29:00', '16:31:00', '16:35:00'),
        ('A', 494, '16:40:00', '16:42:00', '16:44:00', '16:47:00', '16:49:00', '16:51:00', '16:55:00'),
        ('B', 496, '16:50:00', '16:52:00', '16:54:00', '16:57:00', '16:59:00', '17:01:00', '17:05:00'),
        ('A', 498, '17:00:00', '17:02:00', '17:04:00', '17:07:00', '17:09:00', '17:11:00', '17:15:00'),
        ('C', 500, '17:20:00', '17:22:00', '17:24:00', '17:27:00', '17:29:00', '17:31:00', '17:35:00'),
        ('A', 502, '17:40:00', '17:42:00', '17:44:00', '17:47:00', '17:49:00', '17:51:00', '17:55:00'),
        ('B', 504, '17:50:00', '17:52:00', '17:54:00', '17:57:00', '17:59:00', '18:01:00', '18:05:00'),
        ('A', 506, '18:00:00', '18:02:00', '18:04:00', '18:07:00', '18:09:00', '18:11:00', '18:15:00'),
        ('C', 508, '18:20:00', '18:22:00', '18:24:00', '18:27:00', '18:29:00', '18:31:00', '18:35:00'),
        ('A', 510, '18:40:00', '18:42:00', '18:44:00', '18:47:00', '18:49:00', '18:51:00', '18:55:00'),
        ('B', 512, '18:50:00', '18:52:00', '18:54:00', '18:57:00', '18:59:00', '19:01:00', '19:05:00'),
        ('A', 514, '19:00:00', '19:02:00', '19:04:00', '19:07:00', '19:09:00', '19:11:00', '19:15:00'),
        ('C', 516, '19:20:00', '19:22:00', '19:24:00', '19:27:00', '19:29:00', '19:31:00', '19:35:00'),
        ('C', 518, '19:50:00', '19:52:00', '19:54:00', '19:57:00', '19:59:00', '20:01:00', '20:05:00'),
        ('C', 520, '20:20:00', '20:22:00', '20:24:00', '20:27:00', '20:29:00', '20:31:00', '20:35:00'),
        ('C', 522, '20:50:00', '20:52:00', '20:54:00', '20:57:00', '20:59:00', '21:01:00', '21:05:00');
        """)

                         
    db.session.execute(insert_query2)
    db.session.commit()


def seed_A_intrips():
    pass  # Updates will be added


def seed_A_outtrips():
    pass  # Updates will be added


def seed_station_locations():
    stations = [
        # Line E Stations
        {"station_name": "Tunis", "latitude": 36.7949275, "longitude": 10.180481, "line": "E"},
        {"station_name": "Sayda_ElManoubia", "latitude": 36.7870302, "longitude": 10.1656493, "line": "E"},
        {"station_name": "Ennajah", "latitude": 36.793378, "longitude": 10.1547573, "line": "E"},
        {"station_name": "Etayrane", "latitude": 36.7921744, "longitude": 10.1382545, "line": "E"},
        {"station_name": "Ezzouhour_2", "latitude": 36.7879481, "longitude": 10.1276235, "line": "E"},
        {"station_name": "ElHrayria", "latitude": 36.7840733, "longitude": 10.1169445, "line": "E"},
        {"station_name": "Bougatfa", "latitude": 36.780424, "longitude": 10.1033349, "line": "E"},
        # Line D Stations
        {"station_name": "El_Gobaa", "latitude": 36.8200495, "longitude": 10.0746594, "line": "D"},
        {"station_name": "Les_Orangers", "latitude": 36.8184495, "longitude": 10.0854278, "line": "D"},
        {"station_name": "La_Manouba", "latitude": 36.8159636, "longitude": 10.1015162, "line": "D"},
        {"station_name": "El_Borta", "latitude": 36.8115088, "longitude": 10.1173177, "line": "D"},
        {"station_name": "Bardo", "latitude": 36.8068855, "longitude": 10.13591, "line": "D"},
        {"station_name": "Erraoudha", "latitude": 36.8017277, "longitude": 10.1480073, "line": "D"},
        {"station_name": "Mallasin", "latitude": 36.7965079, "longitude": 10.1554221, "line": "D"},
        {"station_name": "Sayda_ElManoubia", "latitude": 36.7870302, "longitude": 10.1656493, "line": "D"},
        {"station_name": "Tunis", "latitude": 36.7949275, "longitude": 10.180481, "line": "D"},
    ]

    for station in stations:
        # Check if the station already exists to avoid duplicates
        if not StationLocationModel.query.filter_by(
            station_name=station["station_name"], line=station["line"]
        ).first():
            db.session.add(StationLocationModel(**station))
    
    db.session.commit()


def seed_admin():
    
    admin = AdminModel.query.filter_by(username="admin").first()
    
    if admin is None:  
        admin = AdminModel(
            username="admin",
            first_name="Majd",
            last_name="Hamdi",
            email_address="majdhamdi@example.com",
            password=generate_password_hash("Password123*")  
        )

        db.session.add(admin)
        db.session.commit()

